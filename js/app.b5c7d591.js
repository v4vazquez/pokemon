(()=>{"use strict";var e={6087:(e,t,r)=>{r(6992),r(8674),r(9601),r(7727);var n=r(144),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("router-link",{attrs:{to:{name:"home"}}},[e._v("Home")]),e._v(" |  "),t("router-link",{attrs:{to:{name:"pokemon"}}},[e._v("List all Pokemon")]),e._v(" |  "),""!=e.$store.state.token?t("router-link",{attrs:{to:{name:"logout"}}},[e._v("Logout")]):e._e()],1),t("router-view")],1)},s=[],a=r(3736),i={},u=(0,a.Z)(i,o,s,!1,null,null,null);const l=u.exports;r(5212),r(1539);var m=r(8345),c=function(){var e=this;e._self._c;return e._m(0)},p=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("h1",[e._v("Home")]),t("p",[e._v("You must be authenticated to see this")])])}];const d={name:"home"},v=d;var g=(0,a.Z)(v,c,p,!1,null,null,null);const f=g.exports;var h=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"login"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t("h1",[e._v("Please Sign In")]),e.invalidCredentials?t("div",{attrs:{role:"alert"}},[e._v(" Invalid username and password! ")]):e._e(),this.$route.query.registration?t("div",{attrs:{role:"alert"}},[e._v(" Thank you for registering, please sign in. ")]):e._e(),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",id:"username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("button",{attrs:{type:"submit"}},[e._v("Sign in")]),t("p",[t("router-link",{attrs:{to:{name:"register"}}},[e._v("Need an account? Sign up.")])],1)])])},_=[],k=(r(7658),r(9669)),w=r.n(k);const P={login:function(e){return w().post("/login",e)},register:function(e){return w().post("/register",e)}},y={name:"login",components:{},data:function(){return{user:{username:"",password:""},invalidCredentials:!1}},methods:{login:function(){var e=this;P.login(this.user).then((function(t){200==t.status&&(e.$store.commit("SET_AUTH_TOKEN",t.data.token),e.$store.commit("SET_USER",t.data.user),e.$router.push("/"))}))["catch"]((function(t){var r=t.response;401===r.status&&(e.invalidCredentials=!0)}))}}},b=y;var S=(0,a.Z)(b,h,_,!1,null,"4c82f443",null);const E=S.exports;var x=function(){var e=this,t=e._self._c;return t("h1",[e._v("Logout")])},I=[];const $={created:function(){this.$store.commit("LOGOUT"),this.$router.push("/login")}},O=$;var A=(0,a.Z)(O,x,I,!1,null,null,null);const T=A.exports;var N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center",attrs:{id:"register"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[t("h1",[e._v("Create Account")]),e.registrationErrors?t("div",{attrs:{role:"alert"}},[e._v(" "+e._s(e.registrationErrorMsg)+" ")]):e._e(),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",id:"username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"confirmPassword"}},[e._v("Confirm Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{type:"password",id:"confirmPassword",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}})]),t("button",{attrs:{type:"submit"}},[e._v("Create Account")]),t("p",[t("router-link",{attrs:{to:{name:"login"}}},[e._v("Already have an account? Log in.")])],1)])])},Z=[];const C={name:"register",data:function(){return{user:{username:"",password:"",confirmPassword:"",role:"user"},registrationErrors:!1,registrationErrorMsg:"There were problems registering this user."}},methods:{register:function(){var e=this;this.user.password!=this.user.confirmPassword?(this.registrationErrors=!0,this.registrationErrorMsg="Password & Confirm Password do not match."):P.register(this.user).then((function(t){201==t.status&&e.$router.push({path:"/login",query:{registration:"success"}})}))["catch"]((function(t){var r=t.response;e.registrationErrors=!0,400===r.status&&(e.registrationErrorMsg="Bad Request: Validation Errors")}))},clearErrors:function(){this.registrationErrors=!1,this.registrationErrorMsg="There were problems registering this user."}}},q=C;var V=(0,a.Z)(q,N,Z,!1,null,"e240d848",null);const U=V.exports;r(8862);var B=r(629);n.ZP.use(B.ZP);var F=localStorage.getItem("token"),L=JSON.parse(localStorage.getItem("user"));null!=F&&(w().defaults.headers.common.Authorization="Bearer ".concat(F));const R=new B.ZP.Store({state:{token:F||"",user:L||{},startingVal:0,endingVal:20},mutations:{SET_AUTH_TOKEN:function(e,t){e.token=t,localStorage.setItem("token",t),w().defaults.headers.common.Authorization="Bearer ".concat(t)},SET_USER:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},GET_NEXT_PREVIOUS:function(e,t){e.startingVal=t.startingVal,e.endingVal=t.endingVal},LOGOUT:function(e){localStorage.removeItem("token"),localStorage.removeItem("user"),e.token="",e.user={},w().defaults.headers.common={}}}});var j=function(){var e=this,t=e._self._c;return t("div",[t("pokemon-list")],1)},M=[],H=(r(8309),function(){var e=this,t=e._self._c;return t("div",[t("ul",e._l(e.pokemonArray,(function(r){return t("li",{key:r.id},[t("router-link",{attrs:{to:{name:"detail",params:{id:r.id,name:r.name,weight:r.weight,url:r.url}}}},[e._v(" "+e._s(r.name)+" ")])],1)})),0),"0"!=e.$store.state.startingVal?t("button",[e._v("Previous")]):e._e(),e._v("   |   "),t("button",{on:{click:e.getNextPokemon}},[e._v("Next")])])}),G=[],D=(r(2222),w().create({baseURL:"http://localhost:9000"}));const z={getAllPokemon:function(){return D.get("/pokemon")},getPokemonById:function(e){return D.get("/pokemon/".concat(e))},saveFavorite:function(e){return D.post("/pokemon",e)},getNewPokemon:function(e,t){return D.get("/pokemon/".concat(e,"/").concat(t))}},J={name:"pokemon-list",data:function(){return{pokemonArray:[]}},methods:{getNextPokemon:function(){var e=this,t=this.$store.state.startingVal,r=this.$store.state.endingVal;t+=20,r+=20,z.getNewPokemon(t,r).then((function(n){e.pokemonArray=n.data;var o={startingVal:t,endingVal:r};e.$store.commit("GET_NEXT_PREVIOUS",o)}))}},created:function(){var e=this;z.getAllPokemon().then((function(t){e.pokemonArray=t.data}))}},K=J;var X=(0,a.Z)(K,H,G,!1,null,null,null);const W=X.exports,Y={name:"pokemon",components:{PokemonList:W}},Q=Y;var ee=(0,a.Z)(Q,j,M,!1,null,null,null);const te=ee.exports;var re=function(){var e=this,t=e._self._c;return t("div",[t("pokemon-detail",{attrs:{id:e.$route.params.id,name:e.$route.params.name,weight:e.$route.params.weight}})],1)},ne=[],oe=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v(e._s(e.name))]),t("p",[e._v("Height:"+e._s(e.pokemon.height))]),t("p",[e._v("Weight:"+e._s(e.pokemon.weight))]),t("img",{attrs:{src:e.spriteImgFront}}),e._v("   "),t("img",{attrs:{src:e.spriteImgBack}}),t("img",{attrs:{src:e.shinySpriteImgFront}}),e._v("  "),t("img",{attrs:{src:e.shinySpriteImgBack}}),t("div",[t("button",{on:{click:e.savePokemon}},[e._v("Save as a favorite?")])])])},se=[];r(9653);const ae={name:"pokemon-detail",props:{id:Number,String,name:String},data:function(){return{pokemon:{},spriteImgFront:"",spriteImgBack:"",shinySpriteImgFront:"",shinySpriteImgBack:""}},methods:{savePokemon:function(){var e=this,t={id:this.id,name:this.name,url:this.$route.params.url};z.saveFavorite(t).then((function(){e.$router.push({name:"pokemon"})}))["catch"]((function(){}))}},created:function(){var e=this;z.getPokemonById(this.id).then((function(t){e.pokemon=t.data,e.spriteImgFront=t.data.sprites.front_default,e.spriteImgBack=t.data.sprites.back_default,e.shinySpriteImgFront=t.data.sprites.front_shiny,e.shinySpriteImgBack=t.data.sprites.back_shiny}))}},ie=ae;var ue=(0,a.Z)(ie,oe,se,!1,null,null,null);const le=ue.exports,me={name:"detail",components:{PokemonDetail:le}},ce=me;var pe=(0,a.Z)(ce,re,ne,!1,null,null,null);const de=pe.exports;n.ZP.use(m.ZP);var ve=new m.ZP({mode:"history",base:"/<repository-name>/",routes:[{path:"/",name:"home",component:f,meta:{requiresAuth:!0}},{path:"/pokemon",name:"pokemon",component:te,meta:{requiresAuth:!0}},{path:"/detail/:id",name:"detail",component:de,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:E,meta:{requiresAuth:!1}},{path:"/logout",name:"logout",component:T,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:U,meta:{requiresAuth:!1}}]});ve.beforeEach((function(e,t,r){var n=e.matched.some((function(e){return e.meta.requiresAuth}));n&&""===R.state.token?r("/login"):r()}));const ge=ve;n.ZP.config.productionTip=!1,w().defaults.baseURL="pokemon-demo-production-6474.up.railway.app",new n.ZP({router:ge,store:R,render:function(e){return e(l)}}).$mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,s)=>{if(!n){var a=1/0;for(m=0;m<e.length;m++){for(var[n,o,s]=e[m],i=!0,u=0;u<n.length;u++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(i=!1,s<a&&(a=s));if(i){e.splice(m--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[n,o,s]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,s,[a,i,u]=n,l=0;if(a.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var m=u(r)}for(t&&t(n);l<a.length;l++)s=a[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(m)},n=self["webpackChunkfinal_vue_capstone_seed"]=self["webpackChunkfinal_vue_capstone_seed"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[998],(()=>r(6087)));n=r.O(n)})();
//# sourceMappingURL=app.b5c7d591.js.map